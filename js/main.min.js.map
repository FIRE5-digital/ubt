{"version":3,"sources":["main.min.js"],"names":["ieReg","ie","test","userAgent","imgContainer","i","length","imgUrl","imgCtr","setAttribute","src","classList","add","document","getElementById","event","preventDefault","value","this","price_buttons","querySelectorAll","addEventListener","priceswitch","menu","header","toggle","element","querySelector","contains","innerHTML","dropdown","parentNode","accordionButton","showAccordion","hamburger","closeMethods","cssClass","handleToggle","modalMobileNav","close","navContainer","onclick","setContent","searchDropdown","searchBar","getElementsByClassName","e","remove","dropdownTrigger","activeClass","menuDropdown","showMenu","faqSearch","className","tablinks","results","tabName","currentTarget","classname","moreOptions","searchType","elem","hiddenField","searchTab","openTab","loadManufacturers","loadBodyTypes","defaultOption","createElement","text","tabcontent","replace","selectedIndex","el","console","data","keysSorted","error","loadModels","$type","model_dropdowns","getElementsByName","$manufacturer","url","make_dropdowns","keys","sort","option","err","fetch","then","response","status","warn","loadSpecs","Object","a","b","x","$model","json","localeCompare","active","getBoundingClientRect","lazyImage","lazyImages","window","removeEventListener","lazyLoad","onload","root","body","myEfficientFn","slice","call","responsive","bottom","getComputedStyle","display","dataset","after","image","newOffset","track","getElementsByTagName","autoPlay","newNumShowing","numShowing","style","width","newSlideWidth","numSlides","target","thumbs","closest","Array","debounce","desktopDerrivative","slideNum","wait","immediate","translateAmount","context","args","arguments","log","func","apply","transform","timeout","clearTimeout","currentSlide","callNow","mobileDerrivative","prevSlide","updateSlide","nextSlideClick","nextSlide","clearInterval","slideThumbnail","offset","slideWidth","int","li","ul","from","children","indexOf","parentElement","setInterval","dispatchEvent","Event"],"mappings":"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","file":"main.min.js","sourcesContent":["/*jshint unused:false*/\r\n/*global fetch */\r\n/*global console */\r\n\r\n\r\n\r\n// $(function () {\r\n\r\n// /**** NAV SCROLL ****/\r\n//     $(\".side-nav a, .header-intro a, .footer-content a\").click(function(e){\r\n//         e.preventDefault();\r\n//         // Hide nav\r\n//         // Scroll to location\r\n//         $(\"html, body\").animate({ \r\n//             scrollTop: $( $(this).attr('href') ).position().top+50\r\n//         }, 600);\r\n//     });\r\n\r\n// });\r\n\r\n//object fit fix for ie11\r\nvar userAgent, ieReg, ie;\r\nuserAgent = window.navigator.userAgent;\r\nieReg = /msie|Trident.*rv[ :]*11\\./gi;\r\nie = ieReg.test(userAgent);\r\n\r\n\r\nif(ie) {\r\n  var imgContainer = document.querySelectorAll(\".img-container\");\r\n\r\n  for(var i=0; i<imgContainer.length; i++){\r\n    var imgCtr = imgContainer[i];\r\n    var imgUrl = imgCtr.getElementsByTagName(\"img\")[0].src;\r\n    if (imgUrl) {\r\n      imgCtr.setAttribute(\"style\", \"background-image:url('\" + imgUrl + \"')\");\r\n      imgCtr.classList.add(\"custom-object-fit\");\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// Price switch \r\nfunction priceswitch(event) {\r\n    event.preventDefault();\r\n    document.getElementById('switch-price-type').value = this.value;\r\n    document.getElementById('price-switch').submit();\r\n}\r\nvar price_buttons = document.querySelectorAll(\"#price-switch button\");\r\nfor(var i=0; i<price_buttons.length; i++){\r\n  price_buttons[i].addEventListener('click', priceswitch, false);\r\n}\r\n\r\n\r\n//Nav Toggle\r\nfunction toggleNav(el) {\r\n    var element = el;\r\n    var menu = document.getElementById(\"site-menu\");\r\n    var header = document.querySelectorAll(\".site-header\")[0];\r\n    menu.classList.toggle(\"active\");\r\n    header.classList.toggle(\"active\");\r\n\r\n    if(element.querySelector(\"span\").classList.contains(\"more\")){\r\n      element.innerHTML = \"<span class='close'></span> Close\";\r\n    } else {\r\n      element.innerHTML = \"<span class='more'></span> Menu\";\r\n    }\r\n}\r\n\r\n//Accordion active\r\nvar showAccordion = function(){\r\n    var dropdown = this.parentNode;\r\n    dropdown.classList.toggle(\"active\");\r\n}\r\n\r\nvar accordionButton = document.querySelectorAll(\".accordion > button\");\r\n\r\nfor(var i=0; i<accordionButton.length; i++){\r\n  accordionButton[i].addEventListener('click', showAccordion, false);\r\n}\r\n\r\n// // Mobile Dropdown\r\n// var mobileDropdown = function(){\r\n//     var dropdown = this.parentNode;\r\n//     dropdown.classList.toggle(\"active\");\r\n// }\r\n\r\n// var mobile_dropdown = document.querySelectorAll(\".breadcrumb-menu\");\r\n\r\n// for(var i=0; i<mobile_dropdown.length; i++){\r\n//   mobile_dropdown[i].addEventListener('click', mobileDropdown, false);\r\n// }\r\n\r\nvar modalMobileNav = new tingle.modal({\r\n  closeMethods: [],\r\n  cssClass: ['mobile-nav','reversed']\r\n});\r\n\r\n\r\nconst navContainer = document.querySelector('.nav-container');\r\nconst hamburger = document.querySelector('.hamburger');\r\nconst handleToggle = () => {\r\n  hamburger.classList.toggle('is-active');\r\n  navContainer.classList.toggle('is-active');\r\n\r\n  \r\n  if(hamburger.classList.contains(\"is-active\")) {\r\n    modalMobileNav.open();\r\n  } else{\r\n    modalMobileNav.close();\r\n  }\r\n}\r\n\r\nhamburger.onclick = () => handleToggle();\r\nhamburger.addEventListener('keyup', (event) => {\r\n  if(event.keyCode === 13 || event.keyCode === 32) {\r\n    handleToggle();\r\n  }\r\n});\r\n\r\nmodalMobileNav.setContent(document.querySelector('.site-menu').innerHTML);\r\n\r\n\r\n// Search Bar\r\nvar searchDropdown = function(){\r\n    var searchRow = this.closest('.search-bar');\r\n    searchRow.classList.toggle(\"active\");\r\n}\r\n\r\nvar searchBar = document.querySelectorAll(\".search-bar .legend\");\r\n\r\nfor(var i=0; i<searchBar.length; i++){\r\n  searchBar[i].addEventListener('click', searchDropdown, false);\r\n}\r\n\r\n\r\nif(document.getElementsByClassName('toggle-search').length>0){\r\n    document.getElementsByClassName('toggle-search')[0].addEventListener('click', function(e){\r\n      e.preventDefault();\r\n      if(document.querySelector('#popout-form')===null){\r\n        window.location.href='/search?show-search-bar=true';\r\n        return false;\r\n      }\r\n      if(document.querySelector('#popout-form').classList.contains('hidden')){\r\n        document.querySelector('#popout-form').classList.remove('hidden');\r\n      } else {\r\n        document.querySelector('#popout-form').classList.add('hidden');\r\n      }\r\n    });\r\n}\r\n\r\n\r\n\r\n//Menu Dropdown Toggle\r\n// var menuDropdown = function(){\r\n//     var dropdown = this;\r\n//     dropdown.classList.toggle(\"active\");\r\n// }\r\n\r\n// var menuTrigger = document.querySelectorAll(\".menu-dropdown\");\r\n\r\n// for(var i=0; i<menuTrigger.length; i++){\r\n//   menuTrigger[i].addEventListener('click', menuDropdown, false);\r\n// }\r\n\r\n// //Dropdown Button\r\n// var showDropdown = function(){\r\n//     var dropdown = this.parentNode;\r\n//     dropdown.classList.toggle(\"active\");\r\n// }\r\n\r\n// var dropdownButton = document.querySelectorAll(\".dropdown > button\");\r\n\r\n// for(var i=0; i<dropdownButton.length; i++){\r\n//   dropdownButton[i].addEventListener('click', showDropdown, false);\r\n// }\r\n\r\n// //Dropdown Toggle\r\n// var showDropdown = function(){\r\n//     var dropdown = this.querySelector('div');\r\n//     dropdown.classList.toggle(\"active\");\r\n// }\r\n\r\n// var has_dropdown = document.querySelectorAll(\".has-dropdown\");\r\n\r\n// for(var i=0; i<has_dropdown.length; i++){\r\n//   has_dropdown[i].addEventListener('click', showDropdown, false);\r\n// }\r\n\r\n// // Mobile Dropdown\r\n// var mobileDropdown = function(){\r\n//     var dropdown = this.parentNode;\r\n//     dropdown.classList.toggle(\"active\");\r\n// }\r\n\r\n// var mobile_dropdown = document.querySelectorAll(\".breadcrumb-menu\");\r\n\r\n// for(var i=0; i<mobile_dropdown.length; i++){\r\n//   mobile_dropdown[i].addEventListener('click', mobileDropdown, false);\r\n// }\r\n\r\n\r\n// Site Search Toggle\r\n// var searchToggle = function(){\r\n//   search_container = document.querySelector(\".popout-form\");\r\n//   if(search_container){\r\n//     search_container.classList.toggle(\"active\");\r\n//   } else {\r\n//     var elmnt = document.querySelector(\".full-header-search\");\r\n//     elmnt.scrollIntoView();\r\n//   }\r\n// }\r\n\r\n// var search_toggle = document.getElementById('search-toggle');\r\n// search_toggle.addEventListener('click', searchToggle , false);\r\n\r\n\r\n\r\n//Site Menu Dropdown Toggle\r\nvar menuDropdown = function(){\r\n    //div inside element contains dropdown menu\r\n    var dropdown = this.parentNode;\r\n\r\n    //if it's already active set it not to be\r\n    if(dropdown.classList.contains(\"active\")){\r\n        dropdown.classList.toggle(\"active\");\r\n        return;\r\n    }\r\n    //get current active class\r\n    var activeClass = document.querySelectorAll(\".menu-dropdown.active\");\r\n    // make it not active\r\n    if(activeClass!=null){\r\n        for(var i=0; i<activeClass.length; i++){\r\n          activeClass[i].classList.toggle(\"active\");\r\n        }\r\n    }\r\n    \r\n    //apply active to the div inside element that contains dropdown menu\r\n    dropdown.classList.toggle(\"active\");\r\n}\r\n\r\nvar dropdownTrigger = document.querySelectorAll(\".menu-dropdown > a\");\r\n\r\nfor(var i=0; i<dropdownTrigger.length; i++){\r\n  dropdownTrigger[i].addEventListener('click', menuDropdown, false);\r\n}\r\n\r\n\r\n// //Menu Dropdown Toggle\r\n// var menuDropdown = function(){\r\n//     //div inside element contains dropdown menu\r\n//     var dropdown = this.parentNode.querySelector(\".menu-dropdown\");\r\n\r\n//     //if it's already active set it not to be\r\n//     if(dropdown.classList.contains(\"active\")){\r\n//         dropdown.classList.toggle(\"active\");\r\n//         return;\r\n//     }\r\n//     // //get current active class\r\n//     // var activeClass = document.querySelectorAll(\".menu-dropdown.active\");\r\n//     // // make it not active\r\n//     // if(activeClass!=null){\r\n//     //     for(var i=0; i<activeClass.length; i++){\r\n//     //       activeClass[i].classList.toggle(\"active\");\r\n//     //     }\r\n//     // }\r\n    \r\n//     //apply active to the div inside element that contains dropdown menu\r\n//     dropdown.classList.toggle(\"active\");\r\n// }\r\n\r\n// var menuTrigger = document.querySelectorAll(\".menu-dropdown > a\");\r\n\r\n// for(var i=0; i<menuTrigger.length; i++){\r\n//   menuTrigger[i].addEventListener('click', menuDropdown, false);\r\n// }\r\n\r\n\r\n//Dropdown Menu Toggle\r\nvar showMenu = function(){\r\n    //div inside element contains dropdown menu\r\n    var dropdown = this.parentNode.querySelector('div');\r\n    var menuToggle = this;\r\n\r\n    //if it's already active set it not to be\r\n    if(dropdown.classList.contains(\"active\")){\r\n        dropdown.classList.toggle(\"active\");\r\n        menuToggle.classList.toggle(\"active\");\r\n        return;\r\n    }\r\n    //get current active class\r\n    var activeClass = document.querySelectorAll(\".dropdown-menu .active\");\r\n    // make it not active\r\n    if(activeClass!=null){\r\n        for(var i=0; i<activeClass.length; i++){\r\n          activeClass[i].classList.toggle(\"active\");\r\n        }\r\n    }\r\n    \r\n    //apply active to the div inside element that contains dropdown menu\r\n    dropdown.classList.toggle(\"active\");\r\n    menuToggle.classList.toggle(\"active\");\r\n}\r\n\r\nvar menuDropdown = document.querySelectorAll(\".dropdown-menu > a\");\r\n\r\nfor(var i=0; i<menuDropdown.length; i++){\r\n  menuDropdown[i].addEventListener('click', showMenu, false);\r\n}\r\n\r\n\r\n\r\n//Dropdown Menu Toggle\r\n// var mobileDropdown = function(){\r\n//   //div inside element contains dropdown menu\r\n//   var dropdown = this.parentNode.querySelector('div');\r\n\r\n\r\n//   //if it's already active set it not to be\r\n//     if(dropdown.classList.contains(\"active\")){\r\n//         dropdown.classList.toggle(\"active\");\r\n//         return;\r\n//     }\r\n//     //get current active class\r\n//     var activeClass = document.querySelectorAll(\".mobile-dropdown .active\");\r\n//     // make it not active\r\n//     if(activeClass!=null){\r\n//         for(var i=0; i<activeClass.length; i++){\r\n//           activeClass[i].classList.toggle(\"active\");\r\n//         }\r\n//     }\r\n\r\n  \r\n//   //apply active to the div inside element that contains dropdown menu\r\n//   dropdown.classList.toggle(\"active\");\r\n// }\r\n\r\n// var mobileMenu = document.querySelectorAll(\".mobile-dropdown > a\");\r\n\r\n// for(var i=0; i<mobileMenu.length; i++){\r\n//   mobileMenu[i].addEventListener('click', mobileDropdown, false);\r\n// }\r\n\r\n\r\n\r\n//faqs\r\nvar faqSearch = document.querySelector('.faq-search input');\r\n\r\nif(faqSearch !== null){\r\n  faqSearch.addEventListener('keyup', function(e){\r\n    var results = document.getElementById('faq-results');\r\n    if(this.value.length != 0){\r\n      results.classList.add(\"active\");\r\n    } else {\r\n      results.classList.remove(\"active\");\r\n    }\r\n  });\r\n}\r\n\r\n\r\n//More Options Toggle\r\nvar classname = document.querySelectorAll(\".more-options\");\r\n\r\nvar moreOptions = function(e) {\r\n\te.preventDefault();\r\n  var element = document.getElementById(\"vehicle-search\");\r\n  element.classList.toggle(\"active\");\r\n  if(element.classList.contains('active')){\r\n    this.innerHTML = 'Hide additional options';\r\n  } else {\r\n    this.innerHTML = 'Show me more options';\r\n  }\r\n};\r\n\r\nfor (var i = 0; i < classname.length; i++) {\r\n    classname[i].addEventListener('click', moreOptions, false);\r\n}\r\n\r\n//Tab Content\r\nfunction openTab(e, tabName) {\r\n  var i, tabcontent, tablinks;\r\n  tabcontent = document.getElementsByClassName(\"tab-content\");\r\n  tablinks = document.getElementsByClassName(\"tab\");\r\n\r\n  //remove active tab\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].className = tabcontent[i].className.replace(\" active\", \"\");\r\n  }\r\n\r\n  //remove active from button tabs\r\n  for (i = 0; i < tablinks.length; i++) {\r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  //add active to tab\r\n  document.getElementById(tabName).className += \" active\";\r\n\r\n  //add active to button tabs\r\n  e.currentTarget.className += \" active\";\r\n}\r\n\r\n//Search for Cars or Vans\r\nfunction showDesc(el){\r\n  el.style.display = 'none';\r\n  el.parentNode.querySelector('.extra').classList.remove('visuallyhidden');\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n/** \r\n  * SEARCH\r\n  */\r\nfunction searchType(elem, searchType) {\r\n  var hiddenField, searchTab;\r\n\r\n  //set hidden field value\r\n  hiddenField = document.getElementById(\"search-type\");\r\n  hiddenField.setAttribute('value', searchType);\r\n  \r\n  //remove active class\r\n  searchTab = document.getElementsByClassName(\"search-tab\");\r\n  for (i = 0; i < searchTab.length; i++) {\r\n    searchTab[i].className = searchTab[i].className.replace(\" active\", \"\");\r\n  }\r\n\r\n  //add active class to clicked\r\n  elem.classList.toggle(\"active\");\r\n\r\n  loadManufacturers((document.getElementById('search-type').classList.contains('search-type-van')?'van':'car'));\r\n  loadBodyTypes((document.getElementById('search-type').classList.contains('search-type-van')?'van':'car'));\r\n\r\n  var dropdown = document.getElementsByName('model')[0];\r\n  dropdown.length = 0;\r\n\r\n  var defaultOption = document.createElement('option');\r\n  defaultOption.text = 'Any Model';\r\n  defaultOption.value = '';\r\n\r\n  dropdown.add(defaultOption);\r\n  dropdown.selectedIndex = 0;\r\n\r\n}\r\n\r\n\r\nfunction loadManufacturers($type)\r\n{\r\n\r\n  var make_dropdowns = document.getElementsByName(\"make\");\r\n  for (i = 0; i < make_dropdowns.length; i++) {\r\n    \r\n    var dropdown = make_dropdowns[0];\r\n    dropdown.length = 0;\r\n\r\n    var defaultOption = document.createElement('option');\r\n    defaultOption.text = 'Any Make';\r\n    defaultOption.value = '';\r\n\r\n    dropdown.add(defaultOption);\r\n    dropdown.selectedIndex = 0;\r\n\r\n    var url = '/api/'+$type+'/manufacturers/ev';\r\n\r\n    fetch(url).then(function(response) {  \r\n      if (response.status !== 200) {  \r\n        console.warn('Looks like there was a problem. Status Code: ' + \r\n          response.status);  \r\n        return;  \r\n      }\r\n      return response.json();\r\n    }).then(function(data) {\r\n      let keysSorted = Object.keys(data).sort(function(a, b) {\r\n        return data[a].localeCompare(data[b])\r\n      });\r\n      for (let x in keysSorted) {\r\n        let option = document.createElement('option');\r\n        option.text = data[keysSorted[x]];\r\n        option.value = keysSorted[x];\r\n        dropdown.add(option);\r\n      }\r\n    }).catch(function(err) {  \r\n        console.error('Fetch Error -', err);  \r\n    });\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nfunction loadModels($type, $manufacturer)\r\n{\r\n\r\n  var model_dropdowns = document.getElementsByName(\"model\");\r\n  for (i = 0; i < model_dropdowns.length; i++) {\r\n    var dropdown = model_dropdowns[i];\r\n    dropdown.length = 0;\r\n\r\n    var defaultOption = document.createElement('option');\r\n    defaultOption.text = 'Any Model';\r\n    defaultOption.value = '';\r\n\r\n    dropdown.add(defaultOption);\r\n    dropdown.selectedIndex = 0;\r\n\r\n    if($manufacturer) {\r\n      var url = '/api/' + $type + '/models/' + $manufacturer + '/ev';\r\n\r\n      fetch(url).then(function (response) {\r\n        if (response.status !== 200) {\r\n          console.warn('Looks like there was a problem. Status Code: ' +\r\n            response.status);\r\n          return;\r\n        }\r\n        return response.json();\r\n      }).then(function (data) {\r\n        let keysSorted = Object.keys(data).sort(function (a, b) {\r\n          return data[a].localeCompare(data[b])\r\n        });\r\n        for (let x in keysSorted) {\r\n          let option = document.createElement('option');\r\n          option.text = data[keysSorted[x]];\r\n          option.value = keysSorted[x];\r\n          dropdown.add(option);\r\n        }\r\n      }).catch(function (err) {\r\n        console.error('Fetch Error -', err);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\nfunction loadSpecs($type, $model)\r\n{\r\n\r\n  var dropdown = document.getElementsByName('spec')[0];\r\n  dropdown.length = 0;\r\n\r\n  var defaultOption = document.createElement('option');\r\n  defaultOption.text = 'Any Spec';\r\n  defaultOption.value = '';\r\n\r\n  dropdown.add(defaultOption);\r\n  dropdown.selectedIndex = 0;\r\n\r\n  if($model) {\r\n    var url = '/api/' + $type + '/specs/' + $model;\r\n\r\n    fetch(url).then(function (response) {\r\n      if (response.status !== 200) {\r\n        console.warn('Looks like there was a problem. Status Code: ' +\r\n          response.status);\r\n        return;\r\n      }\r\n      return response.json();\r\n    }).then(function (data) {\r\n      for (var x in data) {\r\n        var option = document.createElement('option');\r\n        option.text = data[x];\r\n        option.value = x;\r\n        dropdown.add(option);\r\n      }\r\n    }).catch(function (err) {\r\n      console.error('Fetch Error -', err);\r\n    });\r\n  }\r\n}\r\n\r\n\r\nfunction loadBodyTypes($type)\r\n{\r\n\r\n  var dropdown = document.getElementsByName('body_type')[0];\r\n\r\n  if(typeof dropdown == 'undefined'){\r\n    return false;\r\n  }\r\n\r\n  dropdown.length = 0;\r\n\r\n  var defaultOption = document.createElement('option');\r\n  defaultOption.text = 'Any Bodytype';\r\n  defaultOption.value = '';\r\n\r\n  dropdown.add(defaultOption);\r\n  dropdown.selectedIndex = 0;\r\n\r\n  var url = '/api/'+$type+'/types';\r\n\r\n  fetch(url).then(function(response) {  \r\n    if (response.status !== 200) {  \r\n      console.warn('Looks like there was a problem. Status Code: ' + \r\n        response.status);  \r\n      return;  \r\n    }\r\n    return response.json();\r\n  }).then(function(data) {  \r\n    for (var x in data) {\r\n        var option = document.createElement('option');\r\n        option.text = data[x];\r\n        option.value = x;\r\n        dropdown.add(option);\r\n    }    \r\n  }).catch(function(err) {  \r\n      console.error('Fetch Error -', err);  \r\n  });\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n// document.getElementById('email-signup').addEventListener(\"click\", function(e) {\r\n//   e.preventDefault();\r\n    \r\n//   var url = '/newsletter';\r\n//   var email = document.getElementById('newsletter-email').value;\r\n//   var name = document.getElementById('newsletter-name').value;\r\n//   var token = document.getElementsByName('_token')[0].value;\r\n\r\n//   fetch(url, {\r\n//     method: 'POST', // or 'PUT'\r\n//     body: JSON.stringify({ 'name': name, 'email': email, '_token': token }), // data can be `string` or {object}!\r\n//     headers:{\r\n//       'Content-Type': 'application/json'\r\n//     }}).then(function(response) {  \r\n//     if (response.status !== 200) {  \r\n//       console.warn('Looks like there was a problem. Status Code: ' + \r\n//         response.status);\r\n//       return;  \r\n//     }\r\n//     return response.json();\r\n//   }).then(function(data) {  \r\n//       if(data.status!='ok'){\r\n//         $errors = '';\r\n//         for (var i in data.errors) {\r\n//              $errors += data.errors[i][0]+'\\n';\r\n//         }\r\n//         return alert('There was a problem with your sign up details\\n\\n'+$errors);\r\n//       }\r\n\r\n//       document.getElementsByClassName('newsletter-form')[0].reset();\r\n//       // Trigger event tracking\r\n//       window.dataLayer = window.dataLayer || [];\r\n//       window.dataLayer.push({\r\n//         'event': 'Newsletter Form Submit'\r\n//       });\r\n//       return alert('Thank you!');\r\n\r\n//   }).catch(function(err) {  \r\n//       console.error('Fetch Error -', err);  \r\n//   });\r\n\r\n\r\n// });\r\n\r\n\r\n\r\n//Lazy Load Images\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n  let lazyImages = [].slice.call(document.querySelectorAll(\"img.lazy\"));\r\n  let active = false;\r\n\r\n  const lazyLoad = function() {\r\n    if (active === false) {\r\n      active = true;\r\n\r\n\r\n      lazyImages.forEach(function(lazyImage) {\r\n        if ((lazyImage.getBoundingClientRect().top <= window.innerHeight && lazyImage.getBoundingClientRect().bottom >= 0) && getComputedStyle(lazyImage).display !== \"none\") {\r\n          lazyImage.src = lazyImage.dataset.src;\r\n          // lazyImage.srcset = lazyImage.dataset.srcset;\r\n          lazyImage.classList.remove(\"lazy\");\r\n\r\n          lazyImages = lazyImages.filter(function(image) {\r\n            return image !== lazyImage;\r\n          });\r\n\r\n          if (lazyImages.length === 0) {\r\n            document.removeEventListener(\"scroll\", lazyLoad);\r\n            window.removeEventListener(\"resize\", lazyLoad);\r\n            window.removeEventListener(\"orientationchange\", lazyLoad);\r\n          }\r\n        }\r\n      });\r\n\r\n      active = false;\r\n    }\r\n  };\r\n\r\n  document.addEventListener(\"scroll\", lazyLoad);\r\n  window.addEventListener(\"resize\", lazyLoad);\r\n  window.addEventListener(\"orientationchange\", lazyLoad);\r\n  lazyLoad();\r\n});\r\n\r\n\r\n\r\n\r\nwindow.onload = (function(){\r\n\r\n  //preloader\r\n  var root = document.getElementsByTagName( 'html' )[0];\r\n  root.classList.add(\"site-loaded\");\r\n\r\n  document.body.classList.add(\"loaded\");\r\n\r\n\r\n  // Load Search Form\r\n  if(document.getElementsByClassName('search-form').length>0){\r\n    // Search\r\n    if(document.querySelectorAll('.search-form [name=make] option').length<=1){\r\n      loadManufacturers((document.getElementById('search-type').classList.contains('search-type-van')?'van':'car'));\r\n      loadBodyTypes((document.getElementById('search-type').classList.contains('search-type-van')?'van':'car'));\r\n    }\r\n\r\n    var make_dropdowns = document.getElementsByName(\"make\");\r\n    for (i = 0; i < make_dropdowns.length; i++) {\r\n      make_dropdowns[i].addEventListener(\"change\", function(e){\r\n        loadModels((document.getElementById('search-type').classList.contains('search-type-van')?'van':'car'), e.target.value);\r\n      });\r\n    }\r\n\r\n    var model_dropdowns = document.getElementsByName(\"model\");\r\n    for (i = 0; i < model_dropdowns.length; i++) {\r\n      model_dropdowns[i].addEventListener(\"change\", function(e){\r\n        loadSpecs((document.getElementById('search-type').classList.contains('search-type-van')?'van':'car'), e.target.value);\r\n      });\r\n    }\r\n  }\r\n\r\n  \r\n});\r\n\r\n\r\n\r\n// efficient debounce resize https://ehsangazar.com/optimizing-javascript-event-listeners-for-performance-e28406ad406c\r\nvar myEfficientFn = debounce(function() {\r\n  if(window.innerWidth <= 1024){\r\n    mobileDerrivative();\r\n    window.responsive = 'touch';\r\n  } else {\r\n    desktopDerrivative();\r\n    window.responsive = 'desktop';\r\n  }\r\n}, 250);\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this, args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\nwindow.addEventListener('resize', myEfficientFn);\r\nmyEfficientFn();\r\n\r\n\r\n\r\n\r\n\r\nfunction mobileDerrivative(){\r\n  let tabcontent, tablinks;\r\n  if(window.responsive !== 'touch' && document.querySelector(\".deal-gallery\")){\r\n    //tabs\r\n    document.querySelectorAll(\".tab\")[0].after(document.getElementById(\"optional-extras\"));\r\n    document.querySelectorAll(\".tab\")[1].after(document.getElementById(\"standard-equipment\"));\r\n    document.querySelectorAll(\".tab\")[2].after(document.getElementById(\"technical-data\"));\r\n\r\n    document.querySelector(\".deal-gallery\").after(document.querySelector(\".deal-aside\"));\r\n\r\n    tabcontent = document.querySelectorAll(\".tab\");\r\n    for (i = 0; i < tabcontent.length; i++) {\r\n      tabcontent[i].className = tabcontent[i].className.replace(\" active\", \"\");\r\n    }\r\n    tablinks = document.querySelectorAll(\".tab-content\");\r\n    for (i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction desktopDerrivative(){\r\n  if(window.responsive !== 'desktop' &&  document.querySelector(\".deal-gallery\")){\r\n    //tabs\r\n    document.querySelector(\".tab-list\").after(document.getElementById(\"technical-data\"));\r\n    document.querySelector(\".tab-list\").after(document.getElementById(\"standard-equipment\"));\r\n    document.querySelector(\".tab-list\").after(document.getElementById(\"optional-extras\"));\r\n\r\n    document.querySelector(\".deal-main\").after(document.querySelector(\".deal-aside\"));\r\n    \r\n    document.querySelectorAll(\".tab\")[0].classList.add(\"active\");\r\n    document.querySelectorAll(\".tab-content\")[0].classList.add(\"active\");\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// gallery slider\r\n\r\nfunction slideThumbnail(track, numSlides, offset, slideWidth, numShowing, autoPlay, timeout) {\r\n\r\n    var newOffset = offset;\r\n    var newSlideWidth = slideWidth;\r\n    var currentSlide=0; //set initial slide to the first\r\n    var autoPlay = autoPlay;\r\n    var timeout = timeout;\r\n    var newNumShowing = numShowing;\r\n\r\n    function setSizes(){\r\n        //alert('setsizes');\r\n        track.style.transform = 'translate('+newOffset+'%, 0)'; //add offset\r\n        track.style.width = newSlideWidth*numSlides+'%';\r\n    }\r\n    function setMobileSizes(){\r\n        track.style.transform = 'translate(0, 0)'; //remove offset\r\n        track.style.width = newSlideWidth*numSlides+'%';\r\n    }\r\n\r\n    var thumbs = document.querySelectorAll(\".thumbnail a\");\r\n\r\n    for(var i = 0; i < thumbs.length; i++){\r\n        thumbs[i].addEventListener('click', function(event){\r\n            var li = this.parentNode;\r\n            var ul = this.closest('ul');\r\n            var nodes = Array.from(ul.children);\r\n            var index = nodes.indexOf(li);\r\n            updateSlide(index);\r\n            event.preventDefault();\r\n        }, false);\r\n    }\r\n\r\n    function updateSlide(i){\r\n      var slideNum, url, translateAmount;\r\n        console.log('updateSlide '+i);\r\n        slideNum = i;\r\n\r\n        //update image\r\n        url = document.querySelector('.thumbnail:nth-child('+(slideNum+1)+') img').src;\r\n        document.getElementById(\"main-img\").src = url; \r\n\r\n        //slide to right spot on thumbnails\r\n        console.log(slideNum+' of '+numSlides);\r\n        if((slideNum<(numSlides-2)) && (slideNum>1)){\r\n            translateAmount = (slideNum-2) * -(100/numSlides)+newOffset+'%';\r\n            console.log('slide')\r\n        } else if(slideNum < 2){\r\n            console.log('<2');\r\n            translateAmount = 0+newOffset+'%';\r\n        } else{\r\n            translateAmount = (numSlides-newNumShowing) * -(100/numSlides)+newOffset+'%';\r\n            console.log('dont slide');\r\n        }\r\n        track.style.transform = 'translate('+translateAmount+', 0)';\r\n\r\n        //add active class\r\n\r\n\r\n        currentSlide = slideNum;\r\n    };\r\n\r\n    function nextSlide(){\r\n        if(currentSlide < numSlides-newNumShowing){\r\n            updateSlide(currentSlide+1);\r\n        } else {\r\n            updateSlide(0)\r\n        }\r\n    }\r\n\r\n    function prevSlide(){\r\n        if(currentSlide > 0){\r\n            updateSlide(currentSlide-1);\r\n        }\r\n    }\r\n\r\n    function nextSlideClick(){\r\n        autoPlay = false;\r\n        nextSlide();\r\n    }\r\n\r\n    function prevSlideClick(){\r\n        autoPlay = false;\r\n        prevSlide();\r\n    }\r\n\r\n    track.parentElement.parentElement.querySelector('a.next').addEventListener('click', nextSlideClick, false);\r\n    track.parentElement.parentElement.querySelector('a.prev').addEventListener('click', prevSlideClick, false);\r\n\r\n    function autoSlide() {\r\n        var int = setInterval((function() {\r\n            \r\n            // if all characters were used\r\n            if (autoPlay === false) {\r\n                clearInterval(int);\r\n                return;\r\n            }\r\n            nextSlide()\r\n        }), timeout);\r\n    }\r\n\r\n    if(autoPlay == true){\r\n       autoSlide(); \r\n    }\r\n\r\n    setSizes();\r\n    window.dispatchEvent(new Event('resize'));\r\n}\r\n/* END SLIDER */"]}