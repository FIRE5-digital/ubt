"use strict";var userAgent,ieReg,ie;if(userAgent=window.navigator.userAgent,ie=(ieReg=/msie|Trident.*rv[ :]*11\./gi).test(userAgent))for(var imgContainer=document.querySelectorAll(".img-container"),i=0;i<imgContainer.length;i++){var imgCtr=imgContainer[i],imgUrl=imgCtr.getElementsByTagName("img")[0].src;imgUrl&&(imgCtr.setAttribute("style","background-image:url('"+imgUrl+"')"),imgCtr.classList.add("custom-object-fit"))}function priceswitch(e){e.preventDefault(),document.getElementById("switch-price-type").value=this.value,document.getElementById("price-switch").submit()}for(var price_buttons=document.querySelectorAll("#price-switch button"),i=0;i<price_buttons.length;i++)price_buttons[i].addEventListener("click",priceswitch,!1);function toggleNav(e){var t=e,n=document.getElementById("site-menu"),o=document.querySelectorAll(".site-header")[0];n.classList.toggle("active"),o.classList.toggle("active"),t.querySelector("span").classList.contains("more")?t.innerHTML="<span class='close'></span> Close":t.innerHTML="<span class='more'></span> Menu"}for(var showAccordion=function e(){var t;this.parentNode.classList.toggle("active")},accordionButton=document.querySelectorAll(".accordion > button"),i=0;i<accordionButton.length;i++)accordionButton[i].addEventListener("click",showAccordion,!1);var modalMobileNav=new tingle.modal({closeMethods:[],cssClass:["mobile-nav","reversed"]}),navContainer=document.querySelector(".nav-container"),hamburger=document.querySelector(".hamburger"),handleToggle=function e(){hamburger.classList.toggle("is-active"),navContainer.classList.toggle("is-active"),hamburger.classList.contains("is-active")?modalMobileNav.open():modalMobileNav.close()};hamburger.onclick=function(){return handleToggle()},hamburger.addEventListener("keyup",function(e){13!==e.keyCode&&32!==e.keyCode||handleToggle()}),modalMobileNav.setContent(document.querySelector(".site-menu").innerHTML);for(var searchDropdown=function e(){var t;this.closest(".search-bar").classList.toggle("active")},searchBar=document.querySelectorAll(".search-bar .legend"),i=0;i<searchBar.length;i++)searchBar[i].addEventListener("click",searchDropdown,!1);0<document.getElementsByClassName("toggle-search").length&&document.getElementsByClassName("toggle-search")[0].addEventListener("click",function(e){if(e.preventDefault(),null===document.querySelector("#popout-form"))return!(window.location.href="/search");document.querySelector("#popout-form").classList.contains("hidden")?document.querySelector("#popout-form").classList.remove("hidden"):document.querySelector("#popout-form").classList.add("hidden")});for(var menuDropdown=function e(){var t=this.parentNode;if(t.classList.contains("active"))t.classList.toggle("active");else{var n=document.querySelectorAll(".menu-dropdown.active");if(null!=n)for(var o=0;o<n.length;o++)n[o].classList.toggle("active");t.classList.toggle("active")}},dropdownTrigger=document.querySelectorAll(".menu-dropdown > a"),i=0;i<dropdownTrigger.length;i++)dropdownTrigger[i].addEventListener("click",menuDropdown,!1);for(var showMenu=function e(){var t=this.parentNode.querySelector("div"),n=this;if(t.classList.contains("active"))return t.classList.toggle("active"),void n.classList.toggle("active");var o=document.querySelectorAll(".dropdown-menu .active");if(null!=o)for(var a=0;a<o.length;a++)o[a].classList.toggle("active");t.classList.toggle("active"),n.classList.toggle("active")},menuDropdown=document.querySelectorAll(".dropdown-menu > a"),i=0;i<menuDropdown.length;i++)menuDropdown[i].addEventListener("click",showMenu,!1);var faqSearch=document.querySelector(".faq-search input");null!==faqSearch&&faqSearch.addEventListener("keyup",function(e){var t=document.getElementById("faq-results");0!=this.value.length?t.classList.add("active"):t.classList.remove("active")});for(var classname=document.querySelectorAll(".more-options"),moreOptions=function e(t){t.preventDefault();var n=document.getElementById("vehicle-search");n.classList.toggle("active"),n.classList.contains("active")?this.innerHTML="Hide additional options":this.innerHTML="Show me more options"},i=0;i<classname.length;i++)classname[i].addEventListener("click",moreOptions,!1);function openTab(e,t){var n,o,a;for(o=document.getElementsByClassName("tab-content"),a=document.getElementsByClassName("tab"),n=0;n<o.length;n++)o[n].className=o[n].className.replace(" active","");for(n=0;n<a.length;n++)a[n].className=a[n].className.replace(" active","");document.getElementById(t).className+=" active",e.currentTarget.className+=" active"}function showDesc(e){e.style.display="none",e.parentNode.querySelector(".extra").classList.remove("visuallyhidden")}function searchType(e,t){var n,o;for((n=document.getElementById("search-type")).setAttribute("value",t),o=document.getElementsByClassName("search-tab"),i=0;i<o.length;i++)o[i].className=o[i].className.replace(" active","");e.classList.toggle("active"),loadManufacturers("car"),loadBodyTypes("car");var a=document.getElementsByName("model")[0];a.length=0;var r=document.createElement("option");r.text="Any Model",r.value="",a.add(r),a.selectedIndex=0}function loadManufacturers(e){var t=document.getElementsByName("make");for(i=0;i<t.length;i++){var o=t[0];o.length=0;var n=document.createElement("option"),a;n.text="Any Make",n.value="",o.add(n),o.selectedIndex=0,fetch("/api/"+e+"/manufacturers").then(function(e){if(200===e.status)return e.json();console.warn("Looks like there was a problem. Status Code: "+e.status)}).then(function(e){for(var t in e){var n=document.createElement("option");n.text=e[t],n.value=t,o.add(n)}}).catch(function(e){console.error("Fetch Error -",e)})}}function loadModels(e,t){var n=document.getElementsByName("model");for(i=0;i<n.length;i++){var o=n[i];o.length=0;var a=document.createElement("option"),r;a.text="Any Model",a.value="",o.add(a),o.selectedIndex=0,fetch("/api/"+e+"/models/"+t).then(function(e){if(200===e.status)return e.json();console.warn("Looks like there was a problem. Status Code: "+e.status)}).then(function(e){for(var t in e){var n=document.createElement("option");n.text=e[t],n.value=t,o.add(n)}}).catch(function(e){console.error("Fetch Error -",e)})}}function loadSpecs(e,t){var o=document.getElementsByName("spec")[0];o.length=0;var n=document.createElement("option"),a;n.text="Any Spec",n.value="",o.add(n),o.selectedIndex=0,fetch("/api/"+e+"/specs/"+t).then(function(e){if(200===e.status)return e.json();console.warn("Looks like there was a problem. Status Code: "+e.status)}).then(function(e){for(var t in e){var n=document.createElement("option");n.text=e[t],n.value=t,o.add(n)}}).catch(function(e){console.error("Fetch Error -",e)})}function loadBodyTypes(e){var o=document.getElementsByName("body_type")[0];if(void 0===o)return!1;o.length=0;var t=document.createElement("option"),n;t.text="Any Bodytype",t.value="",o.add(t),o.selectedIndex=0,fetch("/api/"+e+"/types").then(function(e){if(200===e.status)return e.json();console.warn("Looks like there was a problem. Status Code: "+e.status)}).then(function(e){for(var t in e){var n=document.createElement("option");n.text=e[t],n.value=t,o.add(n)}}).catch(function(e){console.error("Fetch Error -",e)})}document.getElementById("send-contact-form")&&(grecaptcha.ready(function(){grecaptcha.execute(document.getElementById("contact-form").dataset.recaptcha,{action:"contact"}).then(function(e){document.querySelector("input[name=g-recaptcha-response]").value=e})}),document.getElementById("send-contact-form").addEventListener("click",function(e){e.preventDefault(),document.body.classList.remove("loaded");var t="/contact",n=document.querySelector("#contact-form [name=email]").value,o=document.querySelector("#contact-form [name=name]").value,a=document.querySelector("#contact-form [name=telephone]").value,r=document.querySelector("#contact-form [name=comments]").value,c=document.querySelector("#contact-form [name=_token]").value,l=document.querySelector("input[name=g-recaptcha-response]").value;fetch(t,{method:"POST",body:JSON.stringify({name:o,email:n,telephone:a,comments:r,_token:c,"g-recaptcha-response":l}),headers:{"Content-Type":"application/json"}}).then(function(e){if(document.body.classList.add("loaded"),200===e.status)return e.json();console.warn("Looks like there was a problem. Status Code: "+e.status)}).then(function(e){if("ok"!=e.status){for(var t in $errors="",e.errors)$errors+=e.errors[t][0]+"\n";return alert("There was a problem with your form\n\n"+$errors)}document.getElementsByClassName("contact-form")[0].reset(),document.getElementsByClassName("contact-content")[0].classList.add("hidden"),document.getElementsByClassName("thank-you")[0].classList.remove("hidden"),document.getElementsByClassName("contact-details-form")[0].scrollIntoView(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Contact Form Submit"})}).catch(function(e){return document.body.classList.add("loaded"),console.error("Fetch Error -",e),alert("There was a problem sending your enquiry. Please call us or use our general contact email address.")})})),document.addEventListener("DOMContentLoaded",function(){var n=[].slice.call(document.querySelectorAll("img.lazy")),t=!1,e=function e(){!1===t&&(t=!0,n.forEach(function(t){t.getBoundingClientRect().top<=window.innerHeight&&0<=t.getBoundingClientRect().bottom&&"none"!==getComputedStyle(t).display&&(t.src=t.dataset.src,t.classList.remove("lazy"),0===(n=n.filter(function(e){return e!==t})).length&&(document.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)))}),t=!1)};document.addEventListener("scroll",e),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),e()}),window.onload=function(){var e;document.getElementsByTagName("html")[0].classList.add("site-loaded"),0<document.getElementsByClassName("search-form").length&&(document.querySelectorAll(".search-form [name=make] option").length<=1&&loadManufacturers("car"),document.getElementsByName("make")[0].addEventListener("change",function(e){loadModels("car",e.target.value)})),document.body.classList.add("loaded")};var myEfficientFn=debounce(function(){window.innerWidth<=1024?(mobileDerrivative(),window.responsive="touch"):(desktopDerrivative(),window.responsive="desktop")},250);function debounce(a,r,c){var l;return function(){var t=this,n=arguments,e=function e(){l=null,c||a.apply(t,n)},o=c&&!l;clearTimeout(l),l=setTimeout(e,r),o&&a.apply(t,n)}}function mobileDerrivative(){if("touch"!==window.responsive&&document.querySelector(".deal-gallery")){for(document.querySelectorAll(".tab")[0].after(document.getElementById("optional-extras")),document.querySelectorAll(".tab")[1].after(document.getElementById("standard-equipment")),document.querySelectorAll(".tab")[2].after(document.getElementById("technical-data")),document.querySelector(".deal-gallery").after(document.querySelector(".deal-aside")),tabcontent=document.querySelectorAll(".tab"),i=0;i<tabcontent.length;i++)tabcontent[i].className=tabcontent[i].className.replace(" active","");for(tablinks=document.querySelectorAll(".tab-content"),i=0;i<tablinks.length;i++)tablinks[i].className=tablinks[i].className.replace(" active","")}}function desktopDerrivative(){"desktop"!==window.responsive&&document.querySelector(".deal-gallery")&&(document.querySelector(".tab-list").after(document.getElementById("technical-data")),document.querySelector(".tab-list").after(document.getElementById("standard-equipment")),document.querySelector(".tab-list").after(document.getElementById("optional-extras")),document.querySelector(".deal-main").after(document.querySelector(".deal-aside")),document.querySelectorAll(".tab")[0].classList.add("active"),document.querySelectorAll(".tab-content")[0].classList.add("active"))}function slideThumbnail(t,n,e,o,a,r,c){var l=e,s=o,i=0,r=r,c=c,d=a;function u(){t.style.transform="translate("+l+"%, 0)",t.style.width=s*n+"%"}function m(){t.style.transform="translate(0, 0)",t.style.width=s*n+"%"}for(var v=document.querySelectorAll(".thumbnail a"),g=0;g<v.length;g++)v[g].addEventListener("click",function(e){var t=this.parentNode,n=this.closest("ul"),o,a;f(Array.from(n.children).indexOf(t)),e.preventDefault()},!1);function f(e){console.log("updateSlide "+e),slideNum=e,url=document.querySelector(".thumbnail:nth-child("+(slideNum+1)+") img").src,document.getElementById("main-img").src=url,console.log(slideNum+" of "+n),slideNum<n-2&&1<slideNum?(translateAmount=(slideNum-2)*(-100/n)+l+"%",console.log("slide")):slideNum<2?(console.log("<2"),translateAmount=0+l+"%"):(translateAmount=-100/n*(n-d)+l+"%",console.log("dont slide")),t.style.transform="translate("+translateAmount+", 0)",i=slideNum}function h(){f(i<n-d?i+1:0)}function y(){0<i&&f(i-1)}function p(){r=!1,h()}function E(){r=!1,y()}function w(){var e=setInterval(function(){!1!==r?h():clearInterval(e)},c)}t.parentElement.parentElement.querySelector("a.next").addEventListener("click",p,!1),t.parentElement.parentElement.querySelector("a.prev").addEventListener("click",E,!1),1==r&&w(),u(),window.dispatchEvent(new Event("resize"))}window.addEventListener("resize",myEfficientFn),myEfficientFn();